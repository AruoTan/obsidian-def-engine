# Obsidian Def-Engine

一个智能的概念定义插件，基于作用域逻辑实现概念定义和发现：

-   **自动发现**: 插件自动识别仓库中所有名为 `concepts.md` 的文件
-   **作用域隔离**: 每个 `concepts.md` 中的概念只对其所属文件夹及子文件夹中的笔记生效
-   **智能优先级**: 同名概念按路径距离自动排序，距离越近优先级越高

## 基本使用

### 1. 创建概念文件

在任意文件夹中创建名为 `concepts.md` 的文件，插件会自动发现并加载其中的概念定义。

**推荐结构**:

```
your-vault/
├── concepts.md          # 全局概念
├── project-a/
│   ├── concepts.md      # project-a 专用概念
│   └── notes/
├── project-b/
│   ├── concepts.md      # project-b 专用概念
│   └── notes/
└── research/
    ├── concepts.md      # research 专用概念
    └── papers/
```

### 2. 添加概念定义

1. 在任意 md 文件中选中文本右键后通过 `添加定义` 项实现快捷添加；

2. 直接在 `concepts.md` 文件中编辑实现批量添加。

## 编辑器菜单

1. 已定义概念右键菜单包含以下选项：

-   **跳转到定义** - 跳转到概念定义位置
-   **编辑定义** - 编辑当前概念的定义

2. 选中文本不含已定义概念时右键菜单包含以下选项：

-   **添加定义** - 为选中的文本添加定义

## 资源管理器菜单

文件夹右键菜单包含选项 **创建概念文件**：在当前文件夹创建 `concepts.md` 文件。

`concepts.md` 文件包含选项 **刷新概念库**：手动重新加载当前`concepts.md` 文件中的概念

## 概念定义规则

`concepts.md` 文件遵循以下解析规则：

1. **概念块结构**: 每个概念块包含 **概念名称（必需）、别名（可选）和定义内容（必需）**，必须严格按照此顺序排列。

2. **概念名称**: 使用 `# <概念名称>` 格式，在 Obsidian 中渲染为标题。

3. **别名**: 可选，使用 `*别名1, 别名2*` 格式，在 Obsidian 中渲染为斜体。

4. **定义内容**: 概念名称后的所有内容（直到分隔符）都被视为定义，支持多行和 Markdown 格式。

5. **分隔符**: 使用 `---` 分隔不同的概念块。

示例:

```markdown
# 区块链

*Blockchain, 分布式账本*
区块链是一种分布式数据库技术，通过密码学方法将数据块链接在一起，形成不可篡改的数据链。

---

# 智能合约

*Smart Contract*
智能合约是运行在区块链上的自动执行程序，当预设条件满足时自动执行相应操作。

---
```

## 反馈与贡献

欢迎通过 GitHub Issues 报告问题或提出改进建议。如果您是开发者并希望贡献代码，请在相关 issue 中说明。
